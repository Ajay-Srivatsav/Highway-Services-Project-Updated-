<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Pure CSS3 crossfade image animation</title>
		<meta name="description" content="An image crossfade animation done with CSS3">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="register_css/slidingbackground.css">
		<link rel="stylesheet" href="register_css/register1.css">
		<link rel="stylesheet" href="cssfile.css">
		<link rel="stylesheet" href="dropdown.css">
		<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
	</head>
	<body>
		<div class="crossfade">
			<figure></figure>
			<figure></figure>
			<figure></figure>
			<figure></figure>
		</div>
		<header>
			<div id="logo">
				<a href="home.html">HIGHWAY<span id="logo-s">SERVICES</span></a>
			</div>
			<span class="sign"><a href="#">CONTACT US</a></span>
			<span class="sign"><a href="aboutus.html">ABOUT US</a></span>
			<span class="sign"><a  href="register.html">SIGN UP</a></span>
			<span class="sign"><a href="login.html">SIGN IN</a></span>
			<span class="sign"><a href="home.html">HOME</a></span>
			<span class="sign">
				<div class="dropdown">
					<a href="readmore.html#SERVICES">
						<button class="dropbtn">SERVICES</button></a>
						<div class="dropdown-content">
							<a href="readmore.html#SERVICES">Towing</a>
							<a href="readmore.html#SERVICES">Jump Start</a>
							<a href="readmore.html#SERVICES">Flat Tyre</a>
							<a href="readmore.html#SERVICES">Lockout </a>
							<a href="readmore.html#SERVICES">Fuel Delivery</a>
						</div>
				  </div>
			</span>
		</header>
	
		<div class="center">
			<h1 style="font-family: candara;color:darkslateblue">Sign Up</h1>
			<div class="form">
				<div class="txt_field">
					<input type="text" id="uname" required>
					<span></span>
					<label>Name</label>
				</div>
				<div class="txt_field">
					<input type="email" id="mail" required>
					<span></span>
					<label>Email</label>
				</div>
				<div class="txt_field">
					<input type="password" id="pass" required>
					<span></span>
					<label>Password</label>
				</div>
				<div class="txt_field">
					<input type="number" id="num" required>
					<span></span>
					<label>Mobile Number</label>
				</div>
				<div class="txt_field">
					<input type="text" id="city" required>
					<span></span>
					<label>City</label>
				</div>
				<div class="txt_field">
					<input type="text" id="address" required>
					<span></span>
					<label>Address/Landmark</label>
				</div>
				<input type="submit" onclick="register()" value="Register">
				<div class="signup_link">
					Already a member? <a href="login.html">login</a>
				</div>
			</div>
		</div>
		
		<script>
		
			var firebaseConfig = {
			apiKey: "AIzaSyBFT-2w7mDPUkoqtSVDjfc3GjOydDSTDsc",
			authDomain: "highwayservices-3a4bb.firebaseapp.com",
			projectId: "highwayservices-3a4bb",
			storageBucket: "highwayservices-3a4bb.appspot.com",
			messagingSenderId: "89877502779",
			appId: "1:89877502779:web:afcc7a9f1df6efea00f51e",
			measurementId: "G-1V9ZPXXVGZ"
			};

			firebase.initializeApp(firebaseConfig);
			var auth=firebase.auth();
			var firestore=firebase.firestore();
			function register()
		{

			uname=document.getElementById("uname").value;
			mail=document.getElementById("mail").value;
			pass=document.getElementById("pass").value;
			number=document.getElementById("num").value;
			city=document.getElementById("city").value;
			add=document.getElementById("address").value;
			firestore.collection("users").doc(mail).set({
				Name:uname,
				Email:mail,
				Password:pass,
				Mobile:number,
				City:city,
				Address:add
			})
			.then(() => {
				auth.createUserWithEmailAndPassword(mail,pass)
				.then(cred=>{
					alert("User successfully registerd. Now login using same credentials.");
					window.open("./login.html","_self");
				})
				.catch((error)=>{
					alert(error);
				})
			})
			.catch((error) => {
				alert(error);
				console.error("Error writing document: ", error);
			});
		}
		</script>
	</body>
</html>